<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" CMD++ Core Classes CMDStorageStorageContainer Source: index.js /*eslint no-console: 0*/ // /** // * A CLI environment-like game // * @module cmdpp-core // */ import filesize from 'filesize'; import { loadCommands as loadCMDs } from './commands'; import { getStorage } from './storage'; import pJSON from '../package.json'; // TODO: Replace current CMD#storage with an object containing storage data // TODO: Move CMD#_commands to CMD#Commands // TODO: Create more JSDoc /** Class representing the main game logic. * @typicalname cmd * @class * @example &lt;caption&gt;Instantiate a CMD object.&lt;/caption&gt; * import { CMD } from 'cmdpp-core'; * import fs from 'fs'; * var cmdContainer = { * data: 0, * money: 0 * }; * var cmd = new CMD({ * (...txt) =&gt; console.log(...txt), * (cmdData) =&gt; fs.writeFileSync('save.json', JSON.stringify(cmdData, null, 2)), * () =&gt; return JSON.parse(fs.readFileSync('save.json')), * (cmdObj) =&gt; { * cmdContainer.data = cmdObj.data; * cmdContainer.money = cmdObj.money; * }, * function() { * return { * stringDesc: { * func: () =&gt; this.respond(&quot;First test run!&quot;), * desc: &quot;Desc can be a string&quot; * }, * functionDesc: { * func: () =&gt; this.respond(&quot;Second test run!&quot;), * desc: () =&gt; &quot;Desc can also be a function that returns a string or an array of strings.&quot; * }, * buyableCommand: { * func: () =&gt; this.respond(&quot;buyable command!&quot;), * desc: 'This command must be bought with the &quot;buyCommand&quot; command.', * price: 10 * } * }; * }, * (err) =&gt; console.error(err), * true * }); */ class CMD { /** * Instantiate the CMD object * @param {CMD~respondCallback} respond - Function for responding. * @param {CMD~saveCallback} save - Function for saving. * @param {CMD~loadCallback} load - Function for loading. * @param {CMD~updateCallback} update - Function for updating. * @param {CMD~commandProviderCallback} commandProvider - Function to provide custom commands. Cannot be ES6 arrow function. * @param {CMD~errorHandlerCallback} errorHandler - Function for error handling. * @param {boolean} debug=false - Debug mode. * @param {string} blah - test param. */ // constructor(options) { constructor(respond, save, load, update, commandProvider, errorHandler, debug) { // var defaults = { // debug: false, // funcs: { // respond: (...txt) =&gt; console.log(...txt), // save: () =&gt; console.warn('No save function has been set.'), // load: () =&gt; console.warn('No load function has been set.'), // update: () =&gt; console.warn('No update function has been set.'), // // reset: () =&gt; console.warn('No reset function has been set.'), // errorHandler: (e) =&gt; console.error(e) // }, // errorHandler: (e) =&gt; console.error(e), // commandProvider: function() {} // }; respond = respond || ((...txt) =&gt; console.log(...txt)); save = save || (() =&gt; console.warn('No save function has been set.')); load = load || (() =&gt; console.warn('No load function has been set.')); update = update || (() =&gt; console.warn('No update function has been set.')); commandProvider = commandProvider || function() {}; errorHandler = errorHandler || ((e) =&gt; console.error(e)); debug = debug || false; var options = { funcs: { respond, save, load, update }, commandProvider, errorHandler, debug }; // var opts = Object.assign({}, defaults, options); // options = opts; this.version = pJSON.version; this.loadCommands = loadCMDs; this.commandProvider = options.commandProvider; this.money = 0; this.increment = 1; this.autoIncrement = 1; this.isAutoMining = false; // this.storage = &quot;selectronTube&quot;; this.data = 0; this.counter = 0; this.debug = options.debug; this.respondFunc = options.funcs.respond; this.saveFunc = options.funcs.save; this.loadFunc = options.funcs.load; this.updateFunc = options.funcs.update; this.resetFunc = options.funcs.reset; this.errHandlerFunc = options.funcs.errorHandler; // this.loadStorage(); this.storage = getStorage(); // this.storage = this.storages[&quot;selectronTube&quot;]; this.loadCommands(); var customCommands = this.commandProvider(); Object.assign(this._commands, customCommands); for (let cmdName in this._commands) { var cmd = this._commands[cmdName]; if (!('price' in cmd)) { cmd.price = 0; } cmd.unlocked = cmd.price === 0; this._commands[cmdName] = cmd; } // this.command(&quot;load&quot;); this.load(); this.gameLoopInterval = undefined; this.gameLoop(); } /** * Function to handle responses from the CMD object. * @callback CMD~respondCallback * @param {...*} txt - Responses */ /** * Function to handle saving progress. * @callback CMD~saveCallback * @param {Object} cmdData - Game progress to be saved. * @param {number} cmdData.data - Data collected. * @param {number} cmdData.money - Money collected. * @param {number} cmdData.increment - Increment value for mineData. * @param {number} cmdData.autoIncrement - Increment value for autoMine. * @param {string} cmdData.storage - Current storage value. * @param {string[]} cmdData.unlocked - Commands bought with buyCommand. * @return {Error | null} An error if encountered. */ /** * Function to handle saving progress. * @callback CMD~loadCallback * @return {Object} Game progress loaded from save. */ /** * Function to handle updating game values. * @callback CMD~updateCallback * @param {CMD} cmdObj - CMD object. */ /** * An object representing a command. * @typedef {Object} CMD~Command * @property {function} func - Function called when command is run. * @property {string|function} desc - Description for command. * @property {string|function|undefined} usage=undefined - How to use the command. * @property {number|undefined} price=0 - Price to pay in bytes for command. */ /** * Function to provide custom commands. * @callback CMD~commandProviderCallback * @return {CMD~Command} Object of custom commands. */ /** * Function to handle thrown errors. * @callback CMD~errorHandlerCallback * @param {Error} err - Error thrown. */ /** * Start the game loop. */ gameLoop() { if (this.gameLoopInterval === undefined) { this.gameLoopInterval = setInterval(() =&gt; { this.counter++; if (this.counter % 10 === 0) { // this.command.save(false); // this.command(&quot;save&quot;); this.save(); } if (this.isAutoMining) { if (this.checkStorage(this.autoIncrement)) { this.addData(this.autoIncrement); } else { this.respond(&quot;Please upgrade your storage with upgradeStorage&quot;); this.command(&quot;autoMine stop&quot;); } this.update(); } }, 1000); } else { console.error('Game loop has already been started.'); } } /** * Send response to respond function from constructor * @param {...string} txt - Strings to be sent to respond function. */ respond(...txt) { this.respondFunc(...txt); } /** * Check if storage is full. * @param {number | undefined} increment - Increment to check against. If undefined, equal to CMD#increment. * @return {boolean} If storage has enough space. */ checkStorage(increment = this.increment) { // if (increment === undefined) { // increment = this.increment; // } // return (this.data &lt;= this.storages[this.storage].capacity); // return ((this.data + increment) &lt;= this.storages[this.storage].capacity); var check = this.storage.checkStorage(this.data, increment); if (this.debug) { console.log(&quot;Current data:&quot;, this.data); console.log(&quot;Increment:&quot;, increment); console.log(&quot;Check storage:&quot;, check); } return check; } /** * Run command * @param {string} str - Command to be ran. */ command(str = &quot;&quot;) { if (str !== &quot;&quot;) { this.runCommand(str); if (this.historyBufferEnabled) { if (this.historyBuffer[0] !== str) { this.historyBuffer.unshift(str); } if (this.historyBuffer.length &gt; 10) { this.historyBuffer.pop(); } } } } runCommand(cmd) { if (this.debug) { console.log(&quot;Command:&quot;, cmd); } if (cmd.indexOf(&quot; &quot;) !== -1 &amp;&amp; cmd[cmd.indexOf(&quot; &quot;) + 1] === undefined) { this.respond(&quot;Command not found.&quot;); if (this.debug) { console.log('Command not found.'); } } else { var cmdWArgs = cmd.split(' '); if (!(cmdWArgs[0] in this._commands)) { this.respond(&quot;Command not found.&quot;); } else { // console.log(cmdWArgs); if (this._commands[cmdWArgs[0]].unlocked) { this._commands[cmdWArgs[0]].func(...cmdWArgs.slice(1)); } } } } /** * Run update function from constructor to update game values */ update() { this.updateFunc(this); } /** * Save game progress */ save() { var saveObj = { data: this.data, money: this.money, increment: this.increment, autoIncrement: this.autoIncrement, // storage: this.storage, storage: this.storage.name, unlocked: [] }; for (let cmdName in this._commands) { var cmd = this._commands[cmdName]; if ('price' in cmd &amp;&amp; cmd.price !== 0 &amp;&amp; cmd.unlocked) { saveObj.unlocked.push(cmdName); } } this.saveFunc(saveObj); } /** * Load game progress */ load() { var loadData = this.loadFunc(); var previousSave = true; if (!loadData) { previousSave = false; } for (var k in loadData) { if (loadData[k] === null) { previousSave = false; break; } } if (previousSave) { if (this.debug) { console.log(loadData); } this.data = loadData.data; this.money = loadData.money; this.increment = loadData.increment; this.autoIncrement = loadData.autoIncrement; this.storage.current = loadData.storage; for (let cmdName in this._commands) { var cmd = this._commands[cmdName]; if (loadData.unlocked.indexOf(cmdName) === -1 &amp;&amp; 'price' in cmd &amp;&amp; cmd.price !== 0) { this._commands[cmdName].unlocked = false; } else { this._commands[cmdName].unlocked = true; } } // for (var unlockedCMD of loadData.unlocked) { // this._commands[unlockedCMD].unlocked = true; // } this.respond(&quot;Save loaded.&quot;); } else { this.respond(&quot;No save found.&quot;); } this.update(); } /** * Add data * @param {number} amt - Amount to add. * @return {boolean} if data was able to be added. */ addData(amt) { var hasRoom = false; if (this.checkStorage(amt)) { this.data += amt; hasRoom = true; } this.update(); return hasRoom; } /** * Remove data * @param {number} amt - Amount to remove. * @return {boolean} if data was able to be removed. */ removeData(amt) { var hasEnough = false; if (this.data &gt;= amt) { this.data -= amt; hasEnough = true; } this.update(); return hasEnough; } /** * Add money * @param {number} amt - Amount to add. */ addMoney(amt) { this.money += amt; this.update(); } /** * Remove money * @param {number} amt - Amount to remove. * @return {boolean} if money was able to be removed. */ removeMoney(amt) { var hasEnough = false; if (this.money &gt;= amt) { this.money -= amt; hasEnough = true; } this.update(); return hasEnough; } /** * Format bytes into a human-readable format * @return CMD#data in human-readable format */ formatBytes() { return this.formatter(this.data); } /** * Format number into a human-readable format * @param {number} size - Number to be formatted. * @return size in human-readable format */ formatter(size) { return filesize(size); } /** * Reset game progress */ reset() { this.saveFunc({ data: 0, money: 0, increment: 1, autoIncrement: 1, storage: &quot;selectronTube&quot;, unlocked: [] }); this.load(); } } export { CMD }; export default CMD; // /** // * Function to handle responses from the CMD object. // * @callback respondCallback // * @param {...*} txt - Responses // */ // // /** // * Function to handle saving progress. // * @callback CMD~saveCallback // * @param {Object} cmdData - Game progress to be saved. // * @param {number} cmdData.data - Data collected. // * @param {number} cmdData.money - Money collected. // * @param {number} cmdData.increment - Increment value for mineData. // * @param {number} cmdData.autoIncrement - Increment value for autoMine. // * @param {string} cmdData.storage - Current storage value. // * @param {string[]} cmdData.unlocked - Commands bought with buyCommand. // * @return {Error | null} An error if encountered. // */ // // /** // * Function to handle saving progress. // * @callback CMD~loadCallback // * @return {Object} Game progress loaded from save. // */ // // /** // * Function to handle updating game values. // * @callback CMD~updateCallback // * @param {CMD} cmdObj - CMD object. // */ // // /** // * Function to handle thrown errors. // * @callback CMD~errorHandlerCallback // * @param {Error} err - Error thrown. // */ // // /** // * An object representing a command. // * @typedef {Object} Command // * @property {function} func - Function called when command is run. // * @property {string|function} desc - Description for command. // * @property {string|function|undefined} usage=null - How to use the command. // * @property {number|undefined} price=0 - Price to pay in bytes for command. // */ // // /** // * Function to provide custom commands. // * @callback CMD~commandProviderCallback // * @return {Command} Object of custom commands. // */ × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-03-29T19:58:26-05:00 using the DocStrap template. "},"storage.js.html":{"id":"storage.js.html","title":"Source: storage.js","body":" CMD++ Core Classes CMDStorageStorageContainer Source: storage.js let storageNames = [ 'selectronTube', 'floppyDisk', 'zipDrive', 'DVD', 'sdCard', 'flashDrive', 'SSD', 'ssdArray', 'serverRack', 'serverRoom', 'dataCenter', 'multipleCenters', 'smallAfricanCountry', 'multipleCountries', 'alienSpaceArray', 'enslavedHumans' ]; /** Class representing a storage object. * @typeicalname storageObj * @class */ class Storage { /** * Instantiate a Storage object * @constructor * @param {string} name - Name of storage object. * @param {number} idx - Index in list of StorageContainer's storage objects. * @param {string | undefined} prev - Name of Storage object preceding this object in list of StorageContainer's storage objects. */ constructor(name, idx, prev) { /** @prop {string} name - Name of storage object */ this.name = name; /** @prop {number} idx - Index in list of StorageContainer's storage objects. */ this.idx = idx; /** @prop {number} capacity - Capacity of storage object */ this.capacity = Math.pow(1024, idx+1); /** @prop {number} price - Price of storage object */ this.price = Math.pow(1024, idx) - 1; /** @prop {string | undefined} prev - Name of Storage object preceding this object in list of StorageContainer's storage objects. */ this.prev = prev; } } let instance = null; /** Class representing a container for all Storage instances, as well as a representation of the current Storage instance. * @typeicalname storage * @class */ class StorageContainer { constructor(storages) { var _storages = {}; var _storageArr = []; for (let i = 0; i &lt; storages.length; i++) { let name = storages[i]; let prev = null; if (i &gt; 0) { prev = storages[i-1]; } let storage = new Storage(name, i, prev); _storageArr.push(storage); _storages[name] = storage; } this._storages = _storages; this._storageNames = storages; _storageArr.sort((a, b) =&gt; a.idx - b.idx); this._storageArr = _storageArr; this._current = _storages[storages[0]]; } /** * Name of current storage. * @type {string} */ get name() { return this._current.name; } /** * Capacity of current storage. * @type {number} */ get capacity() { return this._current.capacity; } /** * Price of current storage. * @type {number} */ get price() { return this._current.price; } /** * ID of current storage. * @type {number} */ get idx() { return this._current.idx; } /** * Current storage. * @type {Storage} */ get current() { return this._current; } set current(val) { console.log(&quot;Type of val:&quot;, val); console.log(&quot;Val:&quot;, val); if (typeof val === &quot;string&quot;) { this._current = this._storages[val]; } else if (typeof val === &quot;object&quot; &amp;&amp; 'name' in val &amp;&amp; val.name in this._storages) { this._current = this._storages[val.name]; } else { console.error(&quot;Invalid parameter type.&quot;); } } /** * Next storage in upgrade list. * @type {Storage} */ get upgrade() { return this._storageArr.find((e) =&gt; e.prev === this._current.name); } /** * Check if storage is full. * @param {number} data - Data to check against. * @param {number} increment - Increment to check against. * @return {boolean} If storage has enough space. */ checkStorage(data, increment) { return ((data + increment) &lt;= this._current.capacity); } /** * Names of all storages excluding the currently selected. * @type {string[]} */ get otherNames() { var storNames = this._storageNames.slice(); storNames.splice(this._current.idx, 1); return storNames; } /** * All storages excluding the currently selected. * @type {Object} */ get others() { return this.otherNames.reduce((o, v) =&gt; { o[v] = this._storages[v]; return o; }, {}); } /** * Names of all storages. * @type {string[]} */ get allNames() { return this._storageNames; } /** * All storages. * @type {Object} */ get all() { return this._storages; } } /** * Instantiate StorageContainer * @memberof StorageContainer * @param {string[] | undefined} storages - Names of storages. If undefined, use default storages. * @return {StorageContainer} */ function getStorage(storages = storageNames) { if (!instance) { instance = new StorageContainer(storages); } return instance; } export { getStorage, Storage }; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-03-29T19:58:26-05:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" CMD++ Core Classes CMDStorageStorageContainer Classes Classes CMD Storage StorageContainer CMD Storage StorageContainer × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-03-29T19:58:26-05:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" CMD++ Core Classes CMDStorageStorageContainer CMD++ Core ToDos ✓ Fully integrate code from previous repository before storage was added. ✓ Implement help delimiter (In Node application, &amp;nbsp is plain text, not HTML). ✗ Implement original todos. ✓ Add storage ✓ Add unit tests. Documentation × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-03-29T19:58:26-05:00 using the DocStrap template. "},"CMD.html":{"id":"CMD.html","title":"Class: CMD","body":" CMD++ Core Classes CMDStorageStorageContainer Class: CMD CMD Class representing the main game logic. new CMD(respond, save, load, update, commandProvider, errorHandler, debug, blah) Instantiate the CMD object Parameters: Name Type Default Description respond CMD~respondCallback Function for responding. save CMD~saveCallback Function for saving. load CMD~loadCallback Function for loading. update CMD~updateCallback Function for updating. commandProvider CMD~commandProviderCallback Function to provide custom commands. Cannot be ES6 arrow function. errorHandler CMD~errorHandlerCallback Function for error handling. debug boolean false Debug mode. blah string test param. Source: index.js, line 56 Example Instantiate a CMD object. import { CMD } from 'cmdpp-core'; import fs from 'fs'; var cmdContainer = { data: 0, money: 0 }; var cmd = new CMD({ (...txt) =&gt; console.log(...txt), (cmdData) =&gt; fs.writeFileSync('save.json', JSON.stringify(cmdData, null, 2)), () =&gt; return JSON.parse(fs.readFileSync('save.json')), (cmdObj) =&gt; { cmdContainer.data = cmdObj.data; cmdContainer.money = cmdObj.money; }, function() { return { stringDesc: { func: () =&gt; this.respond(&quot;First test run!&quot;), desc: &quot;Desc can be a string&quot; }, functionDesc: { func: () =&gt; this.respond(&quot;Second test run!&quot;), desc: () =&gt; &quot;Desc can also be a function that returns a string or an array of strings.&quot; }, buyableCommand: { func: () =&gt; this.respond(&quot;buyable command!&quot;), desc: 'This command must be bought with the &quot;buyCommand&quot; command.', price: 10 } }; }, (err) =&gt; console.error(err), true }); Methods gameLoop() Start the game loop. Source: index.js, line 206 respond(txt) Send response to respond function from constructor Parameters: Name Type Argument Description txt string &lt;repeatable&gt; Strings to be sent to respond function. Source: index.js, line 234 checkStorage(increment) Check if storage is full. Parameters: Name Type Description increment number | undefined Increment to check against. If undefined, equal to CMD#increment. Source: index.js, line 243 Returns: If storage has enough space. Type boolean command(str) Run command Parameters: Name Type Description str string Command to be ran. Source: index.js, line 262 update() Run update function from constructor to update game values Source: index.js, line 301 save() Save game progress Source: index.js, line 308 load() Load game progress Source: index.js, line 330 addData(amt) Add data Parameters: Name Type Description amt number Amount to add. Source: index.js, line 375 Returns: if data was able to be added. Type boolean removeData(amt) Remove data Parameters: Name Type Description amt number Amount to remove. Source: index.js, line 389 Returns: if data was able to be removed. Type boolean addMoney(amt) Add money Parameters: Name Type Description amt number Amount to add. Source: index.js, line 403 removeMoney(amt) Remove money Parameters: Name Type Description amt number Amount to remove. Source: index.js, line 413 Returns: if money was able to be removed. Type boolean formatBytes() Format bytes into a human-readable format Source: index.js, line 427 Returns: CMD#data in human-readable format formatter(size) Format number into a human-readable format Parameters: Name Type Description size number Number to be formatted. Source: index.js, line 436 Returns: size in human-readable format reset() Reset game progress Source: index.js, line 443 gameLoop() Start the game loop. Source: index.js, line 206 respond(txt) Send response to respond function from constructor Parameters: Name Type Argument Description txt string &lt;repeatable&gt; Strings to be sent to respond function. Source: index.js, line 234 checkStorage(increment) Check if storage is full. Parameters: Name Type Description increment number | undefined Increment to check against. If undefined, equal to CMD#increment. Source: index.js, line 243 Returns: If storage has enough space. Type boolean command(str) Run command Parameters: Name Type Description str string Command to be ran. Source: index.js, line 262 update() Run update function from constructor to update game values Source: index.js, line 301 save() Save game progress Source: index.js, line 308 load() Load game progress Source: index.js, line 330 addData(amt) Add data Parameters: Name Type Description amt number Amount to add. Source: index.js, line 375 Returns: if data was able to be added. Type boolean removeData(amt) Remove data Parameters: Name Type Description amt number Amount to remove. Source: index.js, line 389 Returns: if data was able to be removed. Type boolean addMoney(amt) Add money Parameters: Name Type Description amt number Amount to add. Source: index.js, line 403 removeMoney(amt) Remove money Parameters: Name Type Description amt number Amount to remove. Source: index.js, line 413 Returns: if money was able to be removed. Type boolean formatBytes() Format bytes into a human-readable format Source: index.js, line 427 Returns: CMD#data in human-readable format formatter(size) Format number into a human-readable format Parameters: Name Type Description size number Number to be formatted. Source: index.js, line 436 Returns: size in human-readable format reset() Reset game progress Source: index.js, line 443 Type Definitions respondCallback(txt) Function to handle responses from the CMD object. Parameters: Name Type Argument Description txt * &lt;repeatable&gt; Responses Source: index.js, line 151 saveCallback(cmdData) Function to handle saving progress. Parameters: Name Type Description cmdData Object Game progress to be saved. Properties Name Type Description data number Data collected. money number Money collected. increment number Increment value for mineData. autoIncrement number Increment value for autoMine. storage string Current storage value. unlocked Array.&lt;string&gt; Commands bought with buyCommand. Source: index.js, line 157 Returns: An error if encountered. Type Error | null loadCallback() Function to handle saving progress. Source: index.js, line 170 Returns: Game progress loaded from save. Type Object updateCallback(cmdObj) Function to handle updating game values. Parameters: Name Type Description cmdObj CMD CMD object. Source: index.js, line 176 Command An object representing a command. Type: Object Properties: Name Type Default Description func function Function called when command is run. desc string | function Description for command. usage string | function | undefined How to use the command. price number | undefined 0 Price to pay in bytes for command. Source: index.js, line 182 commandProviderCallback() Function to provide custom commands. Source: index.js, line 191 Returns: Object of custom commands. Type CMD~Command errorHandlerCallback(err) Function to handle thrown errors. Parameters: Name Type Description err Error Error thrown. Source: index.js, line 197 respondCallback(txt) Function to handle responses from the CMD object. Parameters: Name Type Argument Description txt * &lt;repeatable&gt; Responses Source: index.js, line 151 saveCallback(cmdData) Function to handle saving progress. Parameters: Name Type Description cmdData Object Game progress to be saved. Properties Name Type Description data number Data collected. money number Money collected. increment number Increment value for mineData. autoIncrement number Increment value for autoMine. storage string Current storage value. unlocked Array.&lt;string&gt; Commands bought with buyCommand. Source: index.js, line 157 Returns: An error if encountered. Type Error | null loadCallback() Function to handle saving progress. Source: index.js, line 170 Returns: Game progress loaded from save. Type Object updateCallback(cmdObj) Function to handle updating game values. Parameters: Name Type Description cmdObj CMD CMD object. Source: index.js, line 176 Command An object representing a command. Type: Object Properties: Name Type Default Description func function Function called when command is run. desc string | function Description for command. usage string | function | undefined How to use the command. price number | undefined 0 Price to pay in bytes for command. Source: index.js, line 182 commandProviderCallback() Function to provide custom commands. Source: index.js, line 191 Returns: Object of custom commands. Type CMD~Command errorHandlerCallback(err) Function to handle thrown errors. Parameters: Name Type Description err Error Error thrown. Source: index.js, line 197 Class: CMD CMD Class representing the main game logic. new CMD(respond, save, load, update, commandProvider, errorHandler, debug, blah) Instantiate the CMD object Parameters: Name Type Default Description respond CMD~respondCallback Function for responding. save CMD~saveCallback Function for saving. load CMD~loadCallback Function for loading. update CMD~updateCallback Function for updating. commandProvider CMD~commandProviderCallback Function to provide custom commands. Cannot be ES6 arrow function. errorHandler CMD~errorHandlerCallback Function for error handling. debug boolean false Debug mode. blah string test param. Source: index.js, line 56 Example Instantiate a CMD object. import { CMD } from 'cmdpp-core'; import fs from 'fs'; var cmdContainer = { data: 0, money: 0 }; var cmd = new CMD({ (...txt) =&gt; console.log(...txt), (cmdData) =&gt; fs.writeFileSync('save.json', JSON.stringify(cmdData, null, 2)), () =&gt; return JSON.parse(fs.readFileSync('save.json')), (cmdObj) =&gt; { cmdContainer.data = cmdObj.data; cmdContainer.money = cmdObj.money; }, function() { return { stringDesc: { func: () =&gt; this.respond(&quot;First test run!&quot;), desc: &quot;Desc can be a string&quot; }, functionDesc: { func: () =&gt; this.respond(&quot;Second test run!&quot;), desc: () =&gt; &quot;Desc can also be a function that returns a string or an array of strings.&quot; }, buyableCommand: { func: () =&gt; this.respond(&quot;buyable command!&quot;), desc: 'This command must be bought with the &quot;buyCommand&quot; command.', price: 10 } }; }, (err) =&gt; console.error(err), true }); Methods gameLoop() Start the game loop. Source: index.js, line 206 respond(txt) Send response to respond function from constructor Parameters: Name Type Argument Description txt string &lt;repeatable&gt; Strings to be sent to respond function. Source: index.js, line 234 checkStorage(increment) Check if storage is full. Parameters: Name Type Description increment number | undefined Increment to check against. If undefined, equal to CMD#increment. Source: index.js, line 243 Returns: If storage has enough space. Type boolean command(str) Run command Parameters: Name Type Description str string Command to be ran. Source: index.js, line 262 update() Run update function from constructor to update game values Source: index.js, line 301 save() Save game progress Source: index.js, line 308 load() Load game progress Source: index.js, line 330 addData(amt) Add data Parameters: Name Type Description amt number Amount to add. Source: index.js, line 375 Returns: if data was able to be added. Type boolean removeData(amt) Remove data Parameters: Name Type Description amt number Amount to remove. Source: index.js, line 389 Returns: if data was able to be removed. Type boolean addMoney(amt) Add money Parameters: Name Type Description amt number Amount to add. Source: index.js, line 403 removeMoney(amt) Remove money Parameters: Name Type Description amt number Amount to remove. Source: index.js, line 413 Returns: if money was able to be removed. Type boolean formatBytes() Format bytes into a human-readable format Source: index.js, line 427 Returns: CMD#data in human-readable format formatter(size) Format number into a human-readable format Parameters: Name Type Description size number Number to be formatted. Source: index.js, line 436 Returns: size in human-readable format reset() Reset game progress Source: index.js, line 443 gameLoop() Start the game loop. Source: index.js, line 206 respond(txt) Send response to respond function from constructor Parameters: Name Type Argument Description txt string &lt;repeatable&gt; Strings to be sent to respond function. Source: index.js, line 234 checkStorage(increment) Check if storage is full. Parameters: Name Type Description increment number | undefined Increment to check against. If undefined, equal to CMD#increment. Source: index.js, line 243 Returns: If storage has enough space. Type boolean command(str) Run command Parameters: Name Type Description str string Command to be ran. Source: index.js, line 262 update() Run update function from constructor to update game values Source: index.js, line 301 save() Save game progress Source: index.js, line 308 load() Load game progress Source: index.js, line 330 addData(amt) Add data Parameters: Name Type Description amt number Amount to add. Source: index.js, line 375 Returns: if data was able to be added. Type boolean removeData(amt) Remove data Parameters: Name Type Description amt number Amount to remove. Source: index.js, line 389 Returns: if data was able to be removed. Type boolean addMoney(amt) Add money Parameters: Name Type Description amt number Amount to add. Source: index.js, line 403 removeMoney(amt) Remove money Parameters: Name Type Description amt number Amount to remove. Source: index.js, line 413 Returns: if money was able to be removed. Type boolean formatBytes() Format bytes into a human-readable format Source: index.js, line 427 Returns: CMD#data in human-readable format formatter(size) Format number into a human-readable format Parameters: Name Type Description size number Number to be formatted. Source: index.js, line 436 Returns: size in human-readable format reset() Reset game progress Source: index.js, line 443 Type Definitions respondCallback(txt) Function to handle responses from the CMD object. Parameters: Name Type Argument Description txt * &lt;repeatable&gt; Responses Source: index.js, line 151 saveCallback(cmdData) Function to handle saving progress. Parameters: Name Type Description cmdData Object Game progress to be saved. Properties Name Type Description data number Data collected. money number Money collected. increment number Increment value for mineData. autoIncrement number Increment value for autoMine. storage string Current storage value. unlocked Array.&lt;string&gt; Commands bought with buyCommand. Source: index.js, line 157 Returns: An error if encountered. Type Error | null loadCallback() Function to handle saving progress. Source: index.js, line 170 Returns: Game progress loaded from save. Type Object updateCallback(cmdObj) Function to handle updating game values. Parameters: Name Type Description cmdObj CMD CMD object. Source: index.js, line 176 Command An object representing a command. Type: Object Properties: Name Type Default Description func function Function called when command is run. desc string | function Description for command. usage string | function | undefined How to use the command. price number | undefined 0 Price to pay in bytes for command. Source: index.js, line 182 commandProviderCallback() Function to provide custom commands. Source: index.js, line 191 Returns: Object of custom commands. Type CMD~Command errorHandlerCallback(err) Function to handle thrown errors. Parameters: Name Type Description err Error Error thrown. Source: index.js, line 197 respondCallback(txt) Function to handle responses from the CMD object. Parameters: Name Type Argument Description txt * &lt;repeatable&gt; Responses Source: index.js, line 151 saveCallback(cmdData) Function to handle saving progress. Parameters: Name Type Description cmdData Object Game progress to be saved. Properties Name Type Description data number Data collected. money number Money collected. increment number Increment value for mineData. autoIncrement number Increment value for autoMine. storage string Current storage value. unlocked Array.&lt;string&gt; Commands bought with buyCommand. Source: index.js, line 157 Returns: An error if encountered. Type Error | null loadCallback() Function to handle saving progress. Source: index.js, line 170 Returns: Game progress loaded from save. Type Object updateCallback(cmdObj) Function to handle updating game values. Parameters: Name Type Description cmdObj CMD CMD object. Source: index.js, line 176 Command An object representing a command. Type: Object Properties: Name Type Default Description func function Function called when command is run. desc string | function Description for command. usage string | function | undefined How to use the command. price number | undefined 0 Price to pay in bytes for command. Source: index.js, line 182 commandProviderCallback() Function to provide custom commands. Source: index.js, line 191 Returns: Object of custom commands. Type CMD~Command errorHandlerCallback(err) Function to handle thrown errors. Parameters: Name Type Description err Error Error thrown. Source: index.js, line 197 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-03-29T19:58:26-05:00 using the DocStrap template. "},"Storage.html":{"id":"Storage.html","title":"Class: Storage","body":" CMD++ Core Classes CMDStorageStorageContainer Class: Storage Storage Class representing a storage object. new Storage(name, idx, prev) Instantiate a Storage object Parameters: Name Type Description name string Name of storage object. idx number Index in list of StorageContainer's storage objects. prev string | undefined Name of Storage object preceding this object in list of StorageContainer's storage objects. Source: storage.js, line 24 Members name Properties: Name Type Description name string Name of storage object Source: storage.js, line 34 idx Properties: Name Type Description idx number Index in list of StorageContainer's storage objects. Source: storage.js, line 36 capacity Properties: Name Type Description capacity number Capacity of storage object Source: storage.js, line 38 price Properties: Name Type Description price number Price of storage object Source: storage.js, line 40 prev Properties: Name Type Description prev string | undefined Name of Storage object preceding this object in list of StorageContainer's storage objects. Source: storage.js, line 42 name Properties: Name Type Description name string Name of storage object Source: storage.js, line 34 idx Properties: Name Type Description idx number Index in list of StorageContainer's storage objects. Source: storage.js, line 36 capacity Properties: Name Type Description capacity number Capacity of storage object Source: storage.js, line 38 price Properties: Name Type Description price number Price of storage object Source: storage.js, line 40 prev Properties: Name Type Description prev string | undefined Name of Storage object preceding this object in list of StorageContainer's storage objects. Source: storage.js, line 42 Class: Storage Storage Class representing a storage object. new Storage(name, idx, prev) Instantiate a Storage object Parameters: Name Type Description name string Name of storage object. idx number Index in list of StorageContainer's storage objects. prev string | undefined Name of Storage object preceding this object in list of StorageContainer's storage objects. Source: storage.js, line 24 Members name Properties: Name Type Description name string Name of storage object Source: storage.js, line 34 idx Properties: Name Type Description idx number Index in list of StorageContainer's storage objects. Source: storage.js, line 36 capacity Properties: Name Type Description capacity number Capacity of storage object Source: storage.js, line 38 price Properties: Name Type Description price number Price of storage object Source: storage.js, line 40 prev Properties: Name Type Description prev string | undefined Name of Storage object preceding this object in list of StorageContainer's storage objects. Source: storage.js, line 42 name Properties: Name Type Description name string Name of storage object Source: storage.js, line 34 idx Properties: Name Type Description idx number Index in list of StorageContainer's storage objects. Source: storage.js, line 36 capacity Properties: Name Type Description capacity number Capacity of storage object Source: storage.js, line 38 price Properties: Name Type Description price number Price of storage object Source: storage.js, line 40 prev Properties: Name Type Description prev string | undefined Name of Storage object preceding this object in list of StorageContainer's storage objects. Source: storage.js, line 42 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-03-29T19:58:26-05:00 using the DocStrap template. "},"StorageContainer.html":{"id":"StorageContainer.html","title":"Class: StorageContainer","body":" CMD++ Core Classes CMDStorageStorageContainer Class: StorageContainer StorageContainer Class representing a container for all Storage instances, as well as a representation of the current Storage instance. new StorageContainer() Source: storage.js, line 52 Members name :string Name of current storage. Type: string Source: storage.js, line 77 capacity :number Capacity of current storage. Type: number Source: storage.js, line 85 price :number Price of current storage. Type: number Source: storage.js, line 93 idx :number ID of current storage. Type: number Source: storage.js, line 101 current :Storage Current storage. Type: Storage Source: storage.js, line 109 upgrade :Storage Next storage in upgrade list. Type: Storage Source: storage.js, line 130 otherNames :Array.&lt;string&gt; Names of all storages excluding the currently selected. Type: Array.&lt;string&gt; Source: storage.js, line 148 others :Object All storages excluding the currently selected. Type: Object Source: storage.js, line 158 allNames :Array.&lt;string&gt; Names of all storages. Type: Array.&lt;string&gt; Source: storage.js, line 169 all :Object All storages. Type: Object Source: storage.js, line 177 name :string Name of current storage. Type: string Source: storage.js, line 77 capacity :number Capacity of current storage. Type: number Source: storage.js, line 85 price :number Price of current storage. Type: number Source: storage.js, line 93 idx :number ID of current storage. Type: number Source: storage.js, line 101 current :Storage Current storage. Type: Storage Source: storage.js, line 109 upgrade :Storage Next storage in upgrade list. Type: Storage Source: storage.js, line 130 otherNames :Array.&lt;string&gt; Names of all storages excluding the currently selected. Type: Array.&lt;string&gt; Source: storage.js, line 148 others :Object All storages excluding the currently selected. Type: Object Source: storage.js, line 158 allNames :Array.&lt;string&gt; Names of all storages. Type: Array.&lt;string&gt; Source: storage.js, line 169 all :Object All storages. Type: Object Source: storage.js, line 177 Methods checkStorage(data, increment) Check if storage is full. Parameters: Name Type Description data number Data to check against. increment number Increment to check against. Source: storage.js, line 140 Returns: If storage has enough space. Type boolean &lt;static&gt; getStorage(storages) Instantiate StorageContainer Parameters: Name Type Description storages Array.&lt;string&gt; | undefined Names of storages. If undefined, use default storages. Source: storage.js, line 188 Returns: Type StorageContainer checkStorage(data, increment) Check if storage is full. Parameters: Name Type Description data number Data to check against. increment number Increment to check against. Source: storage.js, line 140 Returns: If storage has enough space. Type boolean &lt;static&gt; getStorage(storages) Instantiate StorageContainer Parameters: Name Type Description storages Array.&lt;string&gt; | undefined Names of storages. If undefined, use default storages. Source: storage.js, line 188 Returns: Type StorageContainer Class: StorageContainer StorageContainer Class representing a container for all Storage instances, as well as a representation of the current Storage instance. new StorageContainer() Source: storage.js, line 52 Members name :string Name of current storage. Type: string Source: storage.js, line 77 capacity :number Capacity of current storage. Type: number Source: storage.js, line 85 price :number Price of current storage. Type: number Source: storage.js, line 93 idx :number ID of current storage. Type: number Source: storage.js, line 101 current :Storage Current storage. Type: Storage Source: storage.js, line 109 upgrade :Storage Next storage in upgrade list. Type: Storage Source: storage.js, line 130 otherNames :Array.&lt;string&gt; Names of all storages excluding the currently selected. Type: Array.&lt;string&gt; Source: storage.js, line 148 others :Object All storages excluding the currently selected. Type: Object Source: storage.js, line 158 allNames :Array.&lt;string&gt; Names of all storages. Type: Array.&lt;string&gt; Source: storage.js, line 169 all :Object All storages. Type: Object Source: storage.js, line 177 name :string Name of current storage. Type: string Source: storage.js, line 77 capacity :number Capacity of current storage. Type: number Source: storage.js, line 85 price :number Price of current storage. Type: number Source: storage.js, line 93 idx :number ID of current storage. Type: number Source: storage.js, line 101 current :Storage Current storage. Type: Storage Source: storage.js, line 109 upgrade :Storage Next storage in upgrade list. Type: Storage Source: storage.js, line 130 otherNames :Array.&lt;string&gt; Names of all storages excluding the currently selected. Type: Array.&lt;string&gt; Source: storage.js, line 148 others :Object All storages excluding the currently selected. Type: Object Source: storage.js, line 158 allNames :Array.&lt;string&gt; Names of all storages. Type: Array.&lt;string&gt; Source: storage.js, line 169 all :Object All storages. Type: Object Source: storage.js, line 177 Methods checkStorage(data, increment) Check if storage is full. Parameters: Name Type Description data number Data to check against. increment number Increment to check against. Source: storage.js, line 140 Returns: If storage has enough space. Type boolean &lt;static&gt; getStorage(storages) Instantiate StorageContainer Parameters: Name Type Description storages Array.&lt;string&gt; | undefined Names of storages. If undefined, use default storages. Source: storage.js, line 188 Returns: Type StorageContainer checkStorage(data, increment) Check if storage is full. Parameters: Name Type Description data number Data to check against. increment number Increment to check against. Source: storage.js, line 140 Returns: If storage has enough space. Type boolean &lt;static&gt; getStorage(storages) Instantiate StorageContainer Parameters: Name Type Description storages Array.&lt;string&gt; | undefined Names of storages. If undefined, use default storages. Source: storage.js, line 188 Returns: Type StorageContainer × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-03-29T19:58:26-05:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
